{
    "sourceFile": "pages/pages/discount/Dialogs/DiscountUpdateDialog.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1736821962240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1736821962240,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { classNames } from 'primereact/utils';\r\nimport { RadioButton } from 'primereact/radiobutton';\r\n\r\nconst DiscountUpdateDialog = ({ visible, discount, setDiscount, hideDialog, updateDiscount, submitted }) => {\r\n    const onInputChange = (e, name) => {\r\n        let val = (e.target && e.target.value.trim()); // Trim spasi di awal/akhir\r\n\r\n        let _discount = { ...discount };\r\n        if (name === 'discount_percentage') {\r\n            // Parse to float and ensure it's within range\r\n            const parsedVal = parseFloat(val) || 0;\r\n            if (parsedVal >= 0 && parsedVal <= 100) {\r\n                _discount[name] = parsedVal;\r\n            }\r\n        } else {\r\n            _discount[name] = val;\r\n        }\r\n        setDiscount(_discount);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        const value = e.value; \r\n        setDiscount(prevDiscount => ({ ...prevDiscount, status: value }));\r\n    };\r\n\r\n    const discountDialogFooter = (\r\n        <>\r\n            <Button label=\"Cancel\" icon=\"pi pi-times\" className=\"p-button-text\" onClick={hideDialog} />\r\n            <Button label=\"Update\" icon=\"pi pi-check\" className=\"p-button-text\" onClick={updateDiscount} />\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <Dialog visible={visible} style={{ width: '450px' }} header=\"Update Discount\" modal className=\"p-fluid\" footer={discountDialogFooter} onHide={hideDialog}>\r\n            {discount.image && <img src={`${discount.image}`} alt={discount.image} width=\"150\" className=\"mt-0 mx-auto mb-5 block shadow-2\" />}\r\n            \r\n            <div className=\"field\">\r\n                <label htmlFor=\"id\">Discount ID</label>\r\n                <InputText id=\"id\" value={discount.id} onChange={(e) => onInputChange(e, 'id')} disabled />\r\n            </div>\r\n            <div className=\"field\">\r\n                <label htmlFor=\"discount_name\">Discount Name</label>\r\n                <InputText id=\"discount_name\" value={discount.discount_name} onChange={(e) => onInputChange(e, 'discount_name')} required autoFocus className={classNames({ 'p-invalid': submitted && !discount.discount_name })} />\r\n                {submitted && !discount.discount_name && <small className=\"p-invalid\">Discount name is required.</small>}\r\n            </div>\r\n            <div className=\"field\">\r\n                <label htmlFor=\"discount_percentage\">Discount Percentage</label>\r\n                <div className=\"p-inputgroup\" style={{ maxWidth: '200px' }}>\r\n                <InputText id=\"discount_percentage\" \r\n                value={discount.discount_percentage} onChange={(e) => onInputChange(e, 'discount_percentage')} \r\n                required \r\n                        className={classNames({ 'p-invalid': submitted && (discount.discount_percentage < 0 || discount.discount_percentage > 100) })}\r\n                />\r\n                <span className=\"p-inputgroup-addon\">%</span>\r\n                </div>\r\n                {submitted && (discount.discount_percentage < 0 || discount.discount_percentage > 100) && (\r\n                    <small className=\"p-invalid\">Discount must be between 0% and 100%.</small>\r\n                )}\r\n            </div>\r\n            <div className=\"field\" style={{ display: 'flex', gap: '1rem' }}></div>\r\n                        <div className=\"field\">\r\n                            <label htmlFor=\"description\">Description</label>\r\n                            <InputText id=\"description\" value={discount.description} onChange={(e) => onInputChange(e, 'description')} required autoFocus className={classNames({ 'p-invalid': submitted && !discount.description })} />\r\n                            {submitted && !discount.price && <small className=\"p-invalid\">Name is required.</small>}\r\n                        </div>            \r\n            <div className=\"field\">\r\n                <label className=\"mb-3\">Discount Status</label>\r\n                <div className=\"formgrid grid\">\r\n                    <div className=\"field-radiobutton col-6\">\r\n                        <RadioButton inputId=\"status1\" name=\"status\" value={1} onChange={onStatusChange} checked={discount.status === 1} />\r\n                        <label htmlFor=\"status1\">Active</label>\r\n                    </div>\r\n                    <div className=\"field-radiobutton col-6\">\r\n                        <RadioButton inputId=\"status2\" name=\"status\" value={2} onChange={onStatusChange} checked={discount.status === 2} />\r\n                        <label htmlFor=\"status2\">Non Active</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default DiscountUpdateDialog;\r\n"
        }
    ]
}